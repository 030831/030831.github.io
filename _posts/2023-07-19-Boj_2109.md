---
layout: post
title: "ë°±ì¤€ 2109 : ìˆœíšŒê°•ì—° ( Python )"
categories: Gaounuri_Algorithm_Study
---

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/2109)

> ðŸ“Œ ì‚¬ìš© ì•Œê³ ë¦¬ì¦˜ : `priority queue` , ìž‘ì€ ì§‘í•©ì—ì„œ í° ì§‘í•©ìœ¼ë¡œ í•©ì¹˜ëŠ” í…Œí¬ë‹‰

ì²˜ìŒì—” `N` ì´ 10000 ì´ë¼ì„œ `O(N^2)` ì€ íŒŒì´ì¬ìœ¼ë¡œ ì• ë§¤í• êº¼ê°™ì•„ì„œ `O(Nlog^2(N))` í’€ì´ë²•ë§Œ ìƒê°í–ˆìŠµë‹ˆë‹¤.

> ðŸ“Œ ì²«ë²ˆì§¸ í’€ì´

í’€ê³ ë³´ë‹ˆ `O(N^2)` í’€ì´ë„ ì•„ìŠ¬ì•„ìŠ¬í•˜ê²Œ í†µê³¼ë©ë‹ˆë‹¤. ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” `O(N^2log(N) , O(Nlog^2(N)) , O(NlogN)` í’€ì´ë°©ë²• 3ê°€ì§€ë¥¼ ì†Œê°œí•˜ê² ìŠµë‹ˆë‹¤.

ë¨¼ì € ë‚ ì§œë¥¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì ‘ê·¼í•´ë´…ì‹œë‹¤.
ê°€ìž¥ ê¸‰í•œ ì¼ë¶€í„° ë¹¨ë¦¬ ì²˜ë¦¬í•´ë´…ì‹œë‹¤.

* `3`
`100 2`
`50 2`
`30 1`

í•˜ì§€ë§Œ ì´ëŸ´ ê²½ìš°ì—ëŠ” ìœ„ì™€ ê°™ì€ ë°˜ë¡€ê°€ ìƒê¹ë‹ˆë‹¤. 100+30 ì´ ì•„ë‹ˆë¼ 100+50 ì´ ì •ë‹µì´ê¸° ë•Œë¬¸ìž…ë‹ˆë‹¤.

ì¦‰ ì˜¤ëŠ˜ ë‹¹ìž¥ ê°€ì•¼í•˜ëŠ” ê°•ì—°ì´ ìžˆë”ë¼ë„ ëˆì„ ë” ë²Œìˆ˜ìžˆëŠ” ê°•ì—°ì´ ì¡´ìž¬í•˜ê³  , ì§€ê¸ˆ ê·¸ ê°•ì—°ì„ ê°€ì§€ì•Šì•„ë„ ë‹¤ë¥¸ ê°•ì—°ì„ ê°€ë©´ ëˆì„ ë” ë²Œ ìˆ˜ ìžˆëŠ” ê²½ìš°ê°€ ì¡´ìž¬í•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ ë‚ ì§œë¥¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ë³¸ë‹¤ë©´ ë‚˜ì¤‘ì— ê°ˆ ìˆ˜ ìžˆëŠ” ê°•ì˜ê°€ ì§€ê¸ˆ ë‹¹ìž¥ ê°€ì•¼í•˜ëŠ”ì§€ ì—¬ë¶€ëŠ” íŒë‹¨í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ ë‚ ì§œë¥¼ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ìƒê°í•´ë´…ì‹œë‹¤.

* `6`
`10 2`
`20 2`
`30 4`
`40 2`
`50 3`
`60 4`

ë¨¼ì € ê°€ìž¥ ë§ˆì§€ë§‰ì— ëë‚˜ëŠ” ë‚ ì§œì¸ 4ì¼ë•Œë¥¼ ë´…ì‹œë‹¤. ì´ë•ŒëŠ” ë¬´ì¡°ê±´ `60 4` ë¥¼ ê³¨ë¼ì•¼ í•©ë‹ˆë‹¤.
ì§€ê¸ˆ ì´ ê°•ì—°ì„ ê°€ì§€ ì•Šìœ¼ë©´ 3ì¼ì§¸ëŠ” ì´ë“ì„ ë³´ì§€ ëª»í•˜ë‹ˆê¹ìš”. ë˜í•œ ê°•ì—°ë£Œë„ ê°€ìž¥ í½ë‹ˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ `30 4` ìž…ë ¥ì€ ë²„ë ¤ì§€ê²Œ ë©ë‹ˆë‹¤. ë§Œì•½ ì´ ë¶€ë¶„ì„ ê³ ë ¤í•˜ì§€ ì•Šê³  **ë‚ ì§œë§Œ ë³¸ë‹¤ë©´**
3ì¼ì§¸ì—ëŠ” 50 ì˜ ìˆ˜ìµì„ 2ì¼ì§¸ì—ëŠ” 40ì˜ ìˆ˜ìµì„ ì–»ìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ 1ì¼ì§¸ì—ëŠ” `30 4` ì˜ ìž…ë ¥ì„ ê³ ë ¤í• ë•Œ ìµœëŒ€ê°’ì„ êµ¬í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ ë‚ ì§œë¥¼ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì ‘ê·¼í• ë•ŒëŠ” í˜„ìž¬ ë‚ ì§œì— ê°€ì§€ ì•ŠëŠ” **ê°•ì—°ì„ ë²„ë ¤ì„  ì•ˆë©ë‹ˆë‹¤.**

ê·¸ë ‡ë‹¤ë©´ ìœ ì§€ë¥¼ ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œìš”?

ë°”ë¡œ ì´ì „ë‚ ì§œì— í•´ë‹¹ê°•ì—°ì„ ê°ˆ ìˆ˜ ìžˆë„ë¡ ì¶”ê°€í•´ì£¼ë©´ ë©ë‹ˆë‹¤.
í•˜ì§€ë§Œ ìš°ë¦¬ëŠ” í•´ë‹¹ë‚ ì§œì— ê°ˆ ìˆ˜ ìžˆëŠ” ê°•ì—°ì¤‘ì— ìµœëŒ€ê°’ì„ êµ¬í•´ì•¼í•˜ë¯€ë¡œ ì •ë ¬ëœ ìƒíƒœì´ì–´ì•¼ í•˜ê³ 
ë§¤ë²ˆ ì›ì†Œì˜ ì¶”ê°€ê°€ ë°œìƒí•˜ë¯€ë¡œ íš¨ìœ¨ì ìœ¼ë¡œ ì •ë ¬í•˜ê¸° ìœ„í•´ì„œëŠ” **ìš°ì„ ìˆœìœ„ í**ê°€ í•„ìš”í•©ë‹ˆë‹¤.

ì‹œê°„ë³µìž¡ë„ëŠ” `O(N^2logN)` ìž…ë‹ˆë‹¤.
í˜„ìž¬ ë‚ ì§œì—ì„œ ê°ˆ ìˆ˜ ìžˆëŠ” ê°•ì—°ì¤‘ ìµœëŒ€ê°’ì„ ì„ íƒí•˜ê³  ë‚˜ë¨¸ì§€ ê°•ì—°ë“¤ì€ ë” ì ì€ ë‚ ì§œë¡œ ë¯¸ë£¹ë‹ˆë‹¤.
2ì°¨ì› íž™ì„ ì‚¬ìš©í–ˆì„ë•Œ `i` ë²ˆì§¸ ë‚ ì§œì— ê°€ì§€ ì•Šì„ ê°•ì—°ì„ `i-1` ë²ˆì§¸ ë‚ ì§œì— ì „ë¶€ ì¶”ê°€í•˜ë©´ì„œ `O(NlogN)` ì˜ ì‹œê°„ë³µìž¡ë„ê°€ í•„ìš”í•˜ê³  ëª¨ë“  ë‚ ì§œì— ëŒ€í•´ íƒìƒ‰í• ë•Œ `O(N)` ì˜ ì‹œê°„ë³µìž¡ë„ê°€ í•„ìš”í•©ë‹ˆë‹¤. 

ì•„ëž˜ ì½”ë“œëŠ” `pypy` ë¡œ ì œì¶œí•´ì•¼ì§€ `AC` ë¥¼ ë°›ì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

> ðŸ“Œ ì²«ë²ˆì§¸ ì½”ë“œ

```python
import sys,math,heapq
input=sys.stdin.readline
from collections import deque
LMI=lambda:list(map(int,input().split()))
LMS=lambda:list(map(str,input().split()))
MI=lambda:map(int,input().split())
I=lambda:int(input())
GI=lambda x:[ LMI() for _ in range(x) ]
GS=lambda x:[ LMS() for _ in range(x) ]
V=lambda x,y:[ [False]*y for _ in range(x) ]

N=I()
total = 0 ; end = 0
heap=[ [] for _ in range(10001)]
for i in range(N):
    p,d=MI()
    heapq.heappush(heap[d] , -p)
    end = max(end , d)

for i in range(end , 0 , -1):

    if heap[i]:
        total += -heapq.heappop(heap[i])

    while heap[i]:
        heapq.heappush(heap[i-1] , heapq.heappop(heap[i]))

print(total)
```

> ðŸ“Œ ë‘ë²ˆì§¸ í’€ì´

`i` ë²ˆì§¸ ë‚ ì§œì— ê°€ì§€ ì•Šì„ ê°•ì—°ì€ `i-1` ë‚ ì§œë¡œ ì˜®ê¸°ë©´ì„œ í•´ë‹¹ë‚ ì§œì— ê°ˆ ìˆ˜ ìžˆëŠ” ê°•ì—°ì˜ ìˆ˜ìµì˜ ìµœëŒ€ê°’ì„ ë§¤ë²ˆ ê³ ë ¤í•  ìˆ˜ ìžˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ë‹¤ë§Œ ê°•ì—°ì„ ì˜®ê¸°ëŠ” ë¶€ë¶„ì„ ì¢€ ë” íš¨ìœ¨ì ìœ¼ë¡œ í•  ìˆ˜ ì—†ì„ê¹Œìš”?
ë°”ë¡œ ìž‘ì€ ì§‘í•©ì—ì„œ í° ì§‘í•©ìœ¼ë¡œ í•©ì¹˜ëŠ” í…Œí¬ë‹‰ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

ë§Œì•½ì— `i` ë²ˆì§¸ ë‚ ì§œì— ê°€ì§€ ì•Šì„ ê°•ì—°ì´ 10 ê°œê°€ ìžˆê³  `i-1` ë²ˆì§¸ ë‚ ì§œì— ê°•ì—°ì´ 1ê°œê°€ ìžˆë‹¤ë©´

`i` ë²ˆì§¸ ë‚ ì§œì— ìžˆëŠ” ëª¨ë“  ê°•ì—°ì„ `i-1` ë²ˆì§¸ ë‚ ì§œë¡œ ì˜®ê¸°ëŠ” ê²ƒë³´ë‹¤
`i-1` ë²ˆì§¸ ë‚ ì§œì— ìžˆëŠ” ê°•ì—°ì„ `i` ë²ˆì§¸ ê°•ì—°ìœ¼ë¡œ ì˜®ê¸°ëŠ”ê²Œ ë” íš¨ìœ¨ì ì´ì§€ ì•Šì„ê¹Œìš”?

ë˜í•œ ê°•ì—°ì€ ì´ `N` ê°œê°€ ìžˆê³  ë‘˜ ì¤‘ ë” ìž‘ì€ ì§‘í•©ì„ í° ì§‘í•©ìœ¼ë¡œ ì˜®ê¸°ëŠ” ê³¼ì •ì—ì„œ
**í•­ìƒ ì§‘í•©ì˜ í¬ê¸°ê°€ 2ë°° ì»¤ì§„ë‹¤ëŠ” ì‚¬ì‹¤ì„ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.**

ë”°ë¼ì„œ ìµœëŒ€ `log(N)` ë²ˆì´ë©´ ëª¨ë“  ê°•ì˜ê°€ í•©ì³ì§€ê²Œ ë©ë‹ˆë‹¤.
ê²°ë¡ ì ìœ¼ë¡œ ì‹œê°„ë³µìž¡ë„ëŠ” `O(Nlog^2(N))` ì´ ë©ë‹ˆë‹¤.

`index` ë³€ìˆ˜ë¥¼ ì„ ì–¸í•¨ìœ¼ë¡œì¨ `index` ë²ˆì§¸ ë‚ ì§œì— ê°•ì—°ì´ ìžˆê³  `i-1` ë²ˆì§¸ ê°•ì—°ì˜ ìˆ˜ê°€ ë” ì ìœ¼ë©´ `index` ë‚ ì§œì— `i-1` ë²ˆì§¸ ê°•ì—°ì„ ì „ë¶€ ë„£ì–´ì¤ë‹ˆë‹¤.

ë°˜ëŒ€ë¡œ `i-1` ë²ˆì§¸ ê°•ì—°ì´ ë” ë§Žë‹¤ë©´ `index` ë‚ ì§œì— `i-1` ë²ˆì§¸ë¡œ ê°•ì—°ì„ ì „ë¶€ ì˜®ê²¨ì¤€ í›„ì— `index=i-1` ë¡œ ë°”ê¾¸ì–´ ì£¼ë©´ ë‘ê°œì˜ ì§‘í•©ì„ ë™ì‹œì— ë‹¤ë£° ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

> ðŸ“Œ ë‘ë²ˆì§¸ ì½”ë“œ

```python
import sys,math,heapq
input=sys.stdin.readline
from collections import deque
LMI=lambda:list(map(int,input().split()))
LMS=lambda:list(map(str,input().split()))
MI=lambda:map(int,input().split())
I=lambda:int(input())
GI=lambda x:[ LMI() for _ in range(x) ]
GS=lambda x:[ LMS() for _ in range(x) ]
V=lambda x,y:[ [False]*y for _ in range(x) ]

N=I()
total = 0 ; end = 0
heap=[ [] for _ in range(10001)]
for i in range(N):
    p,d=MI()
    heapq.heappush(heap[d] , -p)
    end = max(end , d)

index = end
for i in range(end , 0 , -1):

    if heap[index]:
        total += -heapq.heappop(heap[index])

    if len(heap[index]) > len(heap[i-1]):
        while heap[i-1]:
            heapq.heappush(heap[index] , heapq.heappop(heap[i-1]))
    else:
        while heap[index]:
            heapq.heappush(heap[i-1] , heapq.heappop(heap[index]))
        index = i-1

print(total)
```

> ðŸ“Œ 3 ë²ˆì§¸ í’€ì´

ë‹¤ë¥¸ì‚¬ëžŒì˜ í’€ì´ë¥¼ ì°¾ì•„ë³´ë‹¤ê°€ ì •ë§ ê°„ë‹¨í•˜ê²Œ í‘¼ ì½”ë“œê°€ ìžˆì–´ì„œ ì†Œê°œí•´ë³´ìž í•©ë‹ˆë‹¤.

`i` ë²ˆì§¸ ë‚ ì§œë¥¼ ë‹¤ë¥´ê²Œ ìƒê°í•´ë³´ë©´
**`i` ë²ˆì§¸ ë‚ ì§œê¹Œì§€ ê°€ì•¼í•˜ëŠ” ê°•ì—°ì˜ ìµœëŒ€ ê°œìˆ˜ëŠ” `i` ê°œ ìž…ë‹ˆë‹¤.**

ë”°ë¼ì„œ `i` ë²ˆì§¸ ë‚ ì§œì— ê°ˆ ìˆ˜ ìžˆëŠ” ê°•ì—°ì„ íž™ì— ëª¨ë‘ ë„£ì€ í›„ì—
ë§Œì•½ ê°•ì—°ì˜ ê°œìˆ˜ê°€ `i` ë²ˆì§¸ ë‚ ì§œì˜ í¬ê¸°ë³´ë‹¤ ë” ì»¤ì§€ë©´ ìµœì†Œê°’ì„ ê³„ì† ì‚­ì œí•´ì£¼ë©´ë©ë‹ˆë‹¤.

**ë”°ë¼ì„œ `i` ë²ˆì§¸ ë‚ ì§œê¹Œì§€ ê°ˆ ìˆ˜ ìžˆëŠ” ëª¨ë“  ê°•ì—°ì¤‘ì— ìµœëŒ€ê°’ë§Œ ë‚¨ê²Œ ë©ë‹ˆë‹¤.**

ì™œëƒí•˜ë©´ `i` ë²ˆì§¸ ë‚ ì§œì— ë˜ë‹¤ë¥¸ ê°•ì—°ì´ ë“¤ì–´ì™”ì„ë•Œ ê°ˆ ìˆ˜ ìžˆëŠ” ëª¨ë“  ê°•ì—°ë³´ë‹¤ ë¹„ìš©ì´ ìž‘ë‹¤ë©´ íž™ì—ì„œ ì¶”ê°€ë˜ì§€ ì•Šê¸° ë•Œë¬¸ìž…ë‹ˆë‹¤.

ë°˜ëŒ€ë¡œ `i` ë²ˆì§¸ ë‚ ì§œì— ë˜ ë‹¤ë¥¸ ê°•ì—°ì´ ë“¤ì–´ì™”ì„ë•Œ ê°ˆ ìˆ˜ ìžˆëŠ” ëª¨ë“  ê°•ì—°ì˜ ìµœì†Œê°’ë³´ë‹¤ í¬ë‹¤ë©´ íž™ì— ì¶”ê°€ë˜ë¯€ë¡œì¨ ë¬¸ì œì—ì„œ ì›í•˜ëŠ” ìµœëŒ€ê°’ì„ ì €ìž¥í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ ìµœëŒ€ `2N` ë²ˆì˜ ì›ì†Œì˜ ì¶”ê°€ì™€ ì‚­ì œê°€ ì´ë£¨ì–´ ì§€ë¯€ë¡œ ì‹œê°„ë³µìž¡ë„ëŠ” `O(NlogN)` ì´ ë©ë‹ˆë‹¤.

> ðŸ“Œ 3 ë²ˆì§¸ ì½”ë“œ

```python
import sys,math,heapq
input=sys.stdin.readline
from collections import deque
LMI=lambda:list(map(int,input().split()))
LMS=lambda:list(map(str,input().split()))
MI=lambda:map(int,input().split())
I=lambda:int(input())
GI=lambda x:[ LMI() for _ in range(x) ]
GS=lambda x:[ LMS() for _ in range(x) ]
V=lambda x,y:[ [False]*y for _ in range(x) ]

N=I()
L=GI(N)
L.sort(key=lambda x:x[1]) # ë‚ ì§œìˆœ ì •ë ¬
heap=[]

for cost,day in L:
    heapq.heappush(heap , cost)
    if day < len(heap):
        heapq.heappop(heap) # ìµœì†Œê°’ ì‚­ì œ

print(sum(heap))
```
